[
  {
    "label": "Envoi EDA - DC, Réception RDC",
    "description": "Envoi des messages EDA et DC, réception d'une réponse RDC",
    "steps": [
      {
        "type": "send",
        "label": "Envoi d'un message RC-EDA",
        "description": "Envoyer un message d'echange de dossier / affaire contenant les valeurs attendues spécifiées",
        "message": {
          "requiredValues": [
            {
              "path": "$.createCase.initialAlert.caller.detailedName.complete",
              "value": ["Albane Amaury","Benoit Baudouin","Cyril Chauvin"]
            },
            {
              "path": "$.createCase.initialAlert.reporting",
              "value": ["STANDARD","ATTENTION"]
            },
            {
              "path": "$.createCase.referenceVersion",
              "value": ["1.2", "1.3", "1.4"]
            }
          ]
        }
      },
      {
        "type": "send",
        "label": "Envoi d'un message EMSI-DC",
        "description": "Envoyer un message de demande de concours contenant les valeurs attendues spécifiées",
        "message": {
          "requiredValues": [
            {
              "path": "$.emsi.CONTEXT.MODE",
              "value": ["ACTUAL","EXERCS","SYSTEM","TEST"]
            },
            {
              "path": "$.emsi.EVENT.ETYPE.CATEGORY[0]",
              "value": ["TRP/COL","ASB","FLD","EXP/AER"]
            },
            {
              "path": "$.emsi.MISSION[0].TYPE",
              "value": ["GEN/SCNMNG","C2","INT"]
            }
          ]
        }
      },
      {
        "type": "receive",
        "label": "Réception d'un message EMSI-RDC",
        "description": "Recevoir un message de réponse à la demande de concours, saisir et valider les valeurs spécifiées dans le message recu dans le cadre à droite puis envoyer un aquittement du message",
        "message": {
          "requiredValues": [
            {
              "path": "$.emsi.CONTEXT.FREETEXT",
              "value": ["Gène de plus en plus importante à la circulation, risque accident","Accident de la circulation, 2 véhicules impliqués","Accident de la circulation, 1 véhicule impliqué"]
            }
          ],
          "file": "EMSI-RDC-message.json"
        }
      }
    ]
  },
  {
    "label": "Envoi EDA - DC, Réception RDC - EO",
    "description": "Envoi des messages EDA et DC, réception d'une réponse RDC et EO",
    "steps": [
      {
        "type": "send",
        "label": "Envoi d'un message RC-EDA",
        "description": "Envoyer un message d'echange de dossier / affaire contenant les valeurs attendues spécifiées",
        "message": {
          "requiredValues": [
            {
              "path": "$.createCase.qualification.whatsHappen.label",
              "value": ["2-roues","4-roues","Poids-lourd"]
            },
            {
              "path": "$.createCase.qualification.riskThreat[0].code",
              "value": ["R6","R35","R67"]
            },
            {
              "path": "$.createCase.location.locLabel",
              "value": ["73 Rue du Limas, Saint-malo","52 rue des six frères Ruellan, Abbeville","21 rue Pierre De Coubertin, Toulouse"]
            }
          ]
        }
      },
      {
        "type": "send",
        "label": "Envoi d'un message EMSI-DC",
        "description": "Envoyer un message de demande de concours contenant les valeurs attendues spécifiées",
        "message": {
          "requiredValues": [
            {
              "path": "$.emsi.CONTEXT.MSGTYPE",
              "value": ["UPDATE","ALERT","CANCEL"]
            },
            {
              "path": "$.emsi.EVENT.ETYPE.CATEGORY[0]",
              "value": ["TRP/COL","EXP/AMM","FLD/PLN"]
            },
            {
              "path": "$.emsi.MISSION[0].TYPE",
              "value": ["GEN/SCNMNG","FF","RSC"]
            }
          ]
        }
      },
      {
        "type": "receive",
        "label": "Réception d'un message EMSI-RDC",
        "description": "Recevoir un message de réponse à la demande de concours, saisir et valider les valeurs spécifiées dans le message recu dans le cadre à droite puis envoyer un aquittement du message",
        "message": {
          "requiredValues": [
            {
              "path": "$.emsi.MISSION[0].PRIORITY",
              "value": ["0","1","2","3","4","5"]
            },
            {
              "path": "$.emsi.MISSION[0].STATUS",
              "value": ["ABO","NST","IPR","PAU"]
            }
          ],
          "file": "EMSI-RDC-message.json"
        }
      },
      {
        "type": "receive",
        "label": "Réception d'un message EMSI-EO",
        "description": "Recevoir un message d'échange des opérations, saisir et valider les valeurs spécifiées dans le message recu dans le cadre à droite puis envoyer un aquittement du message",
        "message": {
          "requiredValues": [
            {
              "path": "$.emsi.RESOURCE[0].UM",
              "value": ["LSV","OTH","PKG","TIM","WGT"]
            },
            {
              "path": "$.emsi.RESOURCE[0].QUANTITY",
              "value": [1,2,20,500]
            }
          ],
          "file": "EMSI-OPG-message.json"
        }
      }
    ]
  },
  {
    "label": "Réception EDA, Envoi EO",
    "description": "Réception d'un message EDA, envoi d'un message EO",
    "steps": [
      {
        "type": "receive",
        "label": "Réception d'un message RC-EDA",
        "description": "Recevoir un message d'echange de dossier / affaire, saisir et valider les valeurs spécifiées dans le message recu dans le cadre à droite puis envoyer un aquittement du message",
        "message": {
          "requiredValues": [
            {
              "path": "$.createCase.location.detailedAddress.complete",
              "value": ["8 quai des Célestins", "15 avenue Leclerc", "1 rue de la République"]
            },
            {
              "path": "$.createCase.qualification.healthMotive.label",
              "value": ["Traumatisme crânien", "Fracture de la jambe", "Plaies multiples"]
            },
            {
              "path": "$.createCase.qualification.victims.count",
              "value": ["SEVERAL","MANY","UNKNOWN","1","0" ]
            }
          ],
          "file": "RC-EDA-usecase-Armaury-1.json"
        }
      },
      {
        "type": "send",
        "label": "Envoi d'un message EMSI-EO",
        "description": "Envoyer un message d'échange des opérations contenant les valeurs attendues spécifiées",
        "message": {
          "requiredValues": [
            {
              "path": "$.emsi.EVENT.SOURCE",
              "value": ["COMFOR","HUMDED","HUMOBS","SENSOR"]
            },
            {
              "path": "$.emsi.EVENT.SCALE",
              "value": ["1","2","3","4","5"]
            },
            {
              "path": "$.emsi.EVENT.CERTAINTY",
              "value": [0, 1, 40, 60, 85, 100]
            }
          ]
        }
      }
    ]
  },
  {
    "label": "Envoi EDA - EO - DC, Réceptin RDC, Envoi EO, Réception EO",
    "description": "Envoi des messages EDA, EO et DC, réception des réponses RDC et EO",
    "steps": [
      {
        "type": "send",
        "label": "Envoi d'un message RC-EDA",
        "description": "Envoyer un message d'echange de dossier / affaire contenant les valeurs attendues spécifiées",
        "message": {
          "requiredValues": [
            {
              "path": "$.createCase.qualification.locationKind.code",
              "value": ["L02.01.00", "L03.01.00", "L04.01.00"]
            },
            {
              "path": "$.createCase.initialAlert.alertSource.channel",
              "value": ["Personne", "Application", "DAU", "BAU", "Défibrillateur"]
            }
          ]
        }
      },
      {
        "type": "send",
        "label": "Envoi d'un message EMSI-EO",
        "description": "Envoyer un message d'échange des opérations contenant les valeurs attendues spécifiées",
        "message": {
          "requiredValues": [
            {
              "path": "$.emsi.CONTEXT.LEVEL",
              "value": ["OPR","TACTCL","STRTGC"]
            },
            {
              "path": "$.emsi.CONTEXT.SECLASS",
              "value": ["RESTRC","CONFID","TOPSRT","UNCLAS","UNMARK","SECRET"]
            }
          ]
        }
      },
      {
        "type": "send",
        "label": "Envoi d'un message EMSI-DC",
        "description": "Envoyer un message de demande de concours contenant les valeurs attendues spécifiées",
        "message": {
          "requiredValues": [
            {
              "path": "$.emsi.CONTEXT.FREETEXT",
              "value": ["Gène de plus en plus importante à la circulation","Risque important d'accident","Accés impossible pour les véhicules de secours"]
            },
            {
              "path": "$.emsi.EVENT.NAME",
              "value": ["Incident sur la voie publique","Accident de la circulation","Accident sur voix ferrée"]
            },
            {
              "path": "$.emsi.EVENT.RISK_ASSESMENT",
              "value": ["STABLE","NCREA","DECREA"]
            }
          ]
        }
      },
      {
        "type": "receive",
        "label": "Réception d'un message EMSI-RDC",
        "description": "Recevoir un message de réponse à la demande de concours, saisir et valider les valeurs spécifiées dans le message recu dans le cadre à droite puis envoyer un aquittement du message",
        "message": {
          "requiredValues": [
            {
              "path": "$.emsi.RESOURCE[0].STATUS",
              "value": ["AVAILB","UNAV","MAINTC","VIRTUAL","RESERVD"]
            }
          ],
          "file": "EMSI-RDC-message.json"
        }
      },
      {
        "type": "send",
        "label": "Envoi d'un message EMSI-EO",
        "description": "Envoyer un message d'échange des opérations contenant les valeurs attendues spécifiées",
        "message": {
          "requiredValues": [
            {
              "path": "$.emsi.RESOURCE[0].NAME",
              "value": ["VSAV 1 caserne SDIS35","VSAV 2 caserne SDIS2","VSAV 3 caserne SDIS12"]
            },
            {
              "path": "$.emsi.RESOURCE[0].FREETEXT",
              "value": ["IMMATRICULATION#AJ-75-MZ","IMMATRICULATION#BF-12-UU","IMMATRICULATION#FR-07-AW"]
            }
          ]
        }
      },
      {
        "type": "receive",
        "label": "Réception d'un message EMSI-EO",
        "description": "Recevoir un message d'échange des opérations, saisir et valider les valeurs spécifiées dans le message recu dans le cadre à droite puis envoyer un aquittement du message",
        "message": {
          "requiredValues": [
            {
              "path": "$.emsi.MISSION[0].",
              "value": ["#OPERATION_GLOBALE#", "#ECHANGE_OPERATION#"]
            }
          ],
          "file": "EMSI-OPG-message.json"
        }
      }

    ]
  },
  {
    "label": "Envoi RS-EDA - partage de dossier",
    "description": "Envoi d'un message RS-EDA",
    "steps": [
      {
        "type": "send",
        "label": "Envoi d'un message RS-EDA",
        "description": "Envoyer un message simple de partage de dossier pour le périmètre 15-15; qui contient les valeurs obligatoires minimales attendues",
        "message": {
          "requiredValues": [
            {
              "path": "$.createCaseHealth.caseId",
              "value": ["fr.health.samu770-DRFR157702400400055"]
            },
            {
              "path": "$.createCaseHealth.creation",
              "value": ["S2024-01-18T15:15:00+01:00","2024-02-15T20:30:00+01:00","2024-08-24T12:15:00+02:00","2024-10-22T18:12:00+02:00","2024-12-24T04:43:00+01:00"]
            },
            {
              "path": "$.createCaseHealth.referenceVersion",
              "value": ["1.2", "1.3", "1.4"]
            },
            {
              "path": "$.createCaseHealth.qualification. whatsHappen.code",
              "value": ["C02.08.05"]
            },
            {
              "path": "$.createCaseHealth.qualification. whatsHappen.label",
              "value": ["C02.08.05"]
            },
            {
              "path": "$.createCaseHealth.location.locID",
              "value": ["555fb03a-4df5-8zg6-8e81-990c4511256, sdf4dffs55eds-a59j-7eds-e7qs-abcsdft5ef59, BLU-5678-XYZ, BLU-5678-XYZ, rst456-uvw789-xyz123 "]
            },
            {
              "path": "$.createCaseHealth.location.country",
              "value": ["FR"]
            },
            {
              "path": "$.createCaseHealth.owner",
              "value": ["fr.health.samu770"]
            }
          ],
          "file": "RS-EDA-usecase-PartageDossier-1.json"
        }
      }
    ]
  },
  {
    "label": "Envoi RS-EDA - Réception RS-EDA - transfert de dossier OK",
    "description": "Envoi d'un message RS-EDA avec demande de transfert, réception d'une réponse RS-EDA d'acceptation ",
    "steps": [
      {
        "type": "send",
        "label": "Envoi d'un message RS-EDA avec demande de transfert",
        "description": "Envoyer un message RS-EDA pour le périmètre 15-15; qui contient une demande de transfert de dossier et les valeurs obligatoires minimales attendues",
        "message": {
          "requiredValues": [
            {
              "path": "$.createCaseHealth.caseId",
              "value": ["fr.health.samu950-DRFR159502401000233"]
            },
            {
              "path": "$.createCaseHealth.creation",
              "value": ["S2024-01-10T14:07:00+01:00"]
            },
            {
              "path": "$.createCaseHealth.referenceVersion",
              "value": ["1.4"]
            },
            {
              "path": "$.createCaseHealth.qualification. whatsHappen.code",
              "value": ["C02.05.01"]
            },
            {
              "path": "$.createCaseHealth.qualification. whatsHappen.label",
              "value": ["Pathologie / Maladie - Médicale"]
            },
            {
              "path": "$.createCaseHealth.location.locID",
              "value": ["555fb03a-4df5-8zg6-8e81-990c4514986"]
            },
            {
              "path": "$.createCaseHealth.location.country",
              "value": ["FR"]
            },
            {
              "path": "$.createCaseHealth.owner",
              "value": ["fr.health.samu780"]
            }
          ]
        }
      },
      {
        "type": "receive",
        "label": "Réception d'un message RS-EDA OK",
        "description": "Recevoir un message RS-EDA d'acceptation de la demande de transfert, saisir et valider les valeurs spécifiées dans le message recu dans le cadre à droite puis envoyer un aquittement du message",
        "message": {
          "requiredValues": [
            {
              "path": "$.createCaseHealth.caseId",
              "value": ["fr.health.samu950-DRFR159502401000233"]
            },
            {
              "path": "$.createCaseHealth.creation",
              "value": ["S2024-01-10T14:07:00+01:00"]
            },
            {
              "path": "$.createCaseHealth.referenceVersion",
              "value": ["1.4"]
            },
            {
              "path": "$.createCaseHealth.qualification. whatsHappen.code",
              "value": ["C02.05.01"]
            },
            {
              "path": "$.createCaseHealth.qualification. whatsHappen.label",
              "value": ["Pathologie / Maladie - Médicale "]
            },
            {
              "path": "$.createCaseHealth.location.locID",
              "value": ["555fb03a-4df5-8zg6-8e81-990c4514986"]
            },
            {
              "path": "$.createCaseHealth.location.country",
              "value": ["FR"]
            },
            {
              "path": "$.createCaseHealth.owner",
              "value": ["fr.health.samu780"]
            }
          ],
          "file": "RS-EDA-usecase-PartageDossier-1.json"
        }
      }
    ]
  },
  {
    "label": "Envoi RS-EDA - Réception RS-EDA - transfert de dossier KO",
    "description": "Envoi d'un message RS-EDA avec demande de transfert, réception d'une réponse RS-EDA de refus",
    "steps": [
      {
        "type": "send",
        "label": "Envoi d'un message RS-EDA avec demande de transfert",
        "description": "Envoyer un message RS-EDA pour le périmètre 15-15; qui contient une demande de transfert de dossier et les valeurs obligatoires minimales attendues",
        "message": {
          "requiredValues": [
            {
              "path": "$.createCaseHealth.caseId",
              "value": ["fr.health.samu950-DRFR159502401000233"]
            },
            {
              "path": "$.createCaseHealth.creation",
              "value": ["S2024-01-10T14:07:00+01:00"]
            },
            {
              "path": "$.createCaseHealth.referenceVersion",
              "value": ["1.4"]
            },
            {
              "path": "$.createCaseHealth.qualification. whatsHappen.code",
              "value": ["C02.05.01"]
            },
            {
              "path": "$.createCaseHealth.qualification. whatsHappen.label",
              "value": ["Pathologie / Maladie - Médicale"]
            },
            {
              "path": "$.createCaseHealth.location.locID",
              "value": ["555fb03a-4df5-8zg6-8e81-990c4514986"]
            },
            {
              "path": "$.createCaseHealth.location.country",
              "value": ["FR"]
            },
            {
              "path": "$.createCaseHealth.owner",
              "value": ["fr.health.samu780"]
            }
          ]
        }
      },
      {
        "type": "receive",
        "label": "Réception d'une réponse RS-EDA KO",
        "description": "Recevoir un message RS-EDA de refus à la demande de transfert, saisir et valider les valeurs spécifiées dans le message recu dans le cadre à droite puis envoyer un aquittement du message",
        "message": {
          "requiredValues": [
            {
              "path": "$.createCaseHealth.caseId",
              "value": ["fr.health.samu950-DRFR159502401000233"]
            },
            {
              "path": "$.createCaseHealth.creation",
              "value": ["S2024-01-10T14:07:00+01:00"]
            },
            {
              "path": "$.createCaseHealth.referenceVersion",
              "value": ["1.4"]
            },
            {
              "path": "$.createCaseHealth.qualification. whatsHappen.code",
              "value": ["C02.05.01"]
            },
            {
              "path": "$.createCaseHealth.qualification. whatsHappen.label",
              "value": ["Pathologie / Maladie - Médicale "]
            },
            {
              "path": "$.createCaseHealth.location.locID",
              "value": ["555fb03a-4df5-8zg6-8e81-990c4514986"]
            },
            {
              "path": "$.createCaseHealth.location.country",
              "value": ["FR"]
            },
            {
              "path": "$.createCaseHealth.owner",
              "value": ["fr.health.samu950"]
            }
          ],
          "file": "RS-EDA-usecase-PartageDossier-1.json"
        }
      }
    ]
  }
]
